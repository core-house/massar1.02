# ๐ ุฏููู ุฃูุงูุฑ Database Fresh Safe

## ูุธุฑุฉ ุนุงูุฉ

ุฃูุฑ `db:fresh-safe` ูุณูุญ ูู ุจุชูููุฐ `migrate:fresh` ูุน ุงูุงุญุชูุงุธ ุจุจูุงูุงุช ุงูุฌุฏุงูู ุงููููุฉ. ูุฐุง ูููุฏ ุฌุฏุงู ุนูุฏ:
- ุชุญุฏูุซ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุฅุตูุงุญ ูุดุงูู ูู Migrations
- ุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุน ุงูุญูุงุธ ุนูู ุงูุจูุงูุงุช

---

## ๐ ุงูุฃูุฑ ุงูุฃุณุงุณู

### `php artisan db:fresh-safe`

**ุงููุตู:** ุชูููุฐ `migrate:fresh` ูุน ุงูุงุญุชูุงุธ ุจุจูุงูุงุช ุฌููุน ุงูุฌุฏุงูู (ูุง ุนุฏุง ุงูุฌุฏุงูู ุงููุณุชุซูุงุฉ ุงูุชุฑุงุถูุงู).

**ูุง ููุนูู:**
1. โ ุฅูุดุงุก ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงูุจูุงูุงุช
2. โ ุชูููุฐ `migrate:fresh` (ุญุฐู ูู ุงูุฌุฏุงูู ูุฅุนุงุฏุฉ ุฅูุดุงุฆูุง)
3. โ ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช ูู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
4. โ ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ

**ูุชู ุชุณุชุฎุฏูู:**
- ุนูุฏ ุชุญุฏูุซ Migrations
- ุนูุฏ ุฅุตูุงุญ ูุดุงูู ูู ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- ุนูุฏ ุฅุนุงุฏุฉ ุจูุงุก ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู ุงูุตูุฑ

**ูุซุงู:**
```bash
php artisan db:fresh-safe
```

---

## ๐ ุงูุฎูุงุฑุงุช ุงููุชุงุญุฉ

### 1. `--tables` (ุงุณุชุซูุงุก ุฌุฏุงูู ูุนููุฉ)

**ุงููุตู:** ุงุณุชุซูุงุก ุฌุฏุงูู ูุนููุฉ ูู ุงููุณุฎ ุงูุงุญุชูุงุทู.

**ุงูุตูุบุฉ:**
```bash
php artisan db:fresh-safe --tables=table1,table2,table3
```

**ูุซุงู:**
```bash
# ุงุณุชุซูุงุก ุฌุฏุงูู Cache ู Sessions
php artisan db:fresh-safe --tables=cache,sessions,cache_locks
```

**ูุชู ุชุณุชุฎุฏูู:**
- ุนูุฏูุง ุชุฑูุฏ ุญุฐู ุจูุงูุงุช ุฌุฏุงูู ูุนููุฉ (ูุซู Cache)
- ุนูุฏูุง ุชููู ุงูุฌุฏุงูู ูุจูุฑุฉ ููุง ุชุญุชุงุฌูุง
- ุนูุฏูุง ุชุฑูุฏ ุฅุนุงุฏุฉ ุชุนููู ุจูุงูุงุช ูุนููุฉ

**ุงูุฌุฏุงูู ุงููุณุชุซูุงุฉ ุงูุชุฑุงุถูุงู:**
- `migrations` - ุณุฌู Migrations
- `failed_jobs` - ุงููุธุงุฆู ุงููุงุดูุฉ
- `password_reset_tokens` - ุฑููุฒ ุฅุนุงุฏุฉ ุชุนููู ูููุฉ ุงููุฑูุฑ
- `sessions` - ุฌูุณุงุช ุงููุณุชุฎุฏููู
- `cache` - ุจูุงูุงุช ุงูู Cache
- `cache_locks` - ุฃููุงู ุงูู Cache

---

### 2. `--seed` (ุชุดุบูู Seeders)

**ุงููุตู:** ุชุดุบูู Seeders ุจุนุฏ ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช.

**ุงูุตูุบุฉ:**
```bash
php artisan db:fresh-safe --seed
```

**ูุซุงู:**
```bash
php artisan db:fresh-safe --seed
```

**ูุง ููุนูู:**
- ูููุฐ `php artisan db:seed` ุจุนุฏ ุงุณุชุนุงุฏุฉ ุงูุจูุงูุงุช
- ูููุฏ ูุฅุถุงูุฉ ุจูุงูุงุช ุฃูููุฉ ุฌุฏูุฏุฉ

**ูุชู ุชุณุชุฎุฏูู:**
- ุนูุฏ ุฅุถุงูุฉ Seeders ุฌุฏูุฏุฉ
- ุนูุฏ ุชุญุฏูุซ ุจูุงูุงุช Seeders
- ุนูุฏ ุฅุนุงุฏุฉ ุชุนููู ุงูุจูุงูุงุช ุงูุฃูููุฉ

---

### 3. `--compress` (ุถุบุท ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ)

**ุงููุตู:** ุถุบุท ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ูุชูููุฑ ุงููุณุงุญุฉ.

**ุงูุตูุบุฉ:**
```bash
php artisan db:fresh-safe --compress
```

**ูุซุงู:**
```bash
php artisan db:fresh-safe --compress
```

**ูุง ููุนูู:**
- ูุถุบุท ููู ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุจุงุณุชุฎุฏุงู GZIP
- ูููู ุญุฌู ุงูููู ุจูุณุจุฉ 70-90%
- ููู ุงูุถุบุท ุชููุงุฆูุงู ุนูุฏ ุงูุงุณุชุนุงุฏุฉ

**ูุชู ุชุณุชุฎุฏูู:**
- ูุน ููุงุนุฏ ุงูุจูุงูุงุช ุงููุจูุฑุฉ
- ูุชูููุฑ ูุณุงุญุฉ ุงูุชุฎุฒูู
- ุนูุฏ ููู ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ

**ููุงุญุธุฉ:** 
- ุงูููู ุงููุถุบูุท ูููู ุจุตูุบุฉ `.sql.gz`
- ููู ุงูุถุบุท ุชููุงุฆูุงู ุนูุฏ ุงูุงุณุชุนุงุฏุฉ

---

### 4. `--chunk-size` (ุญุฌู ุงูุฏูุนุฉ)

**ุงููุตู:** ุชุญุฏูุฏ ุญุฌู ุงูุฏูุนุฉ ููุนุงูุฌุฉ ุงูุฌุฏุงูู ุงููุจูุฑุฉ.

**ุงูุตูุบุฉ:**
```bash
php artisan db:fresh-safe --chunk-size=5000
```

**ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ:** `1000`

**ูุซุงู:**
```bash
# ูุนุงูุฌุฉ 5000 ุตู ูู ูู ูุฑุฉ
php artisan db:fresh-safe --chunk-size=5000
```

**ูุง ููุนูู:**
- ููุณู ุงูุฌุฏุงูู ุงููุจูุฑุฉ ุฅูู ุฏูุนุงุช
- ูุนุงูุฌ ูู ุฏูุนุฉ ุนูู ุญุฏุฉ ูุชูููุฑ ุงูุฐุงูุฑุฉ
- ูุนุฑุถ ุดุฑูุท ุชูุฏู ููู ุฌุฏูู ูุจูุฑ

**ูุชู ุชุณุชุฎุฏูู:**
- ูุน ุงูุฌุฏุงูู ุงูุชู ุชุญุชูู ุนูู ุขูุงู ุงูุตููู
- ุนูุฏ ููุงุฌูุฉ ูุดุงูู ูู ุงูุฐุงูุฑุฉ
- ูุชุณุฑูุน ุงูุนูููุฉ (ููู ุฃูุจุฑ = ุฃุณุฑุน ููู ูุญุชุงุฌ ุฐุงูุฑุฉ ุฃูุซุฑ)

**ูุตุงุฆุญ:**
- **ููู ุตุบูุฑุฉ (500-1000):** ููุจูุงูุงุช ุงููุจูุฑุฉ ุฌุฏุงู ุฃู ุฐุงูุฑุฉ ูุญุฏูุฏุฉ
- **ููู ูุชูุณุทุฉ (2000-5000):** ููุงุณุชุฎุฏุงู ุงูุนุงุฏู
- **ููู ูุจูุฑุฉ (10000+):** ููุจูุงูุงุช ุงููุชูุณุทุฉ ูุฐุงูุฑุฉ ูุงููุฉ

---

### 5. `--skip-large` (ุชุฎุทู ุงูุฌุฏุงูู ุงููุจูุฑุฉ)

**ุงููุตู:** ุชุฎุทู ุงูุฌุฏุงูู ุงูุชู ุชุญุชูู ุนูู ุฃูุซุฑ ูู 10,000 ุตู.

**ุงูุตูุบุฉ:**
```bash
php artisan db:fresh-safe --skip-large
```

**ูุซุงู:**
```bash
php artisan db:fresh-safe --skip-large
```

**ูุง ููุนูู:**
- ูุชุฎุทู ุงูุฌุฏุงูู ุงูุชู ุชุญุชูู ุนูู ุฃูุซุฑ ูู 10,000 ุตู
- ูุญุชูุธ ุจุจูุงูุงุช ุงูุฌุฏุงูู ุงูุตุบูุฑุฉ ููุท
- ูุนุฑุถ ุชุญุฐูุฑ ููู ุฌุฏูู ุชู ุชุฎุทูู

**ูุชู ุชุณุชุฎุฏูู:**
- ุนูุฏ ูุฌูุฏ ุฌุฏุงูู ูุจูุฑุฉ ุฌุฏุงู (ููุงููู ุงูุตููู)
- ุนูุฏูุง ูุง ุชุญุชุงุฌ ุจูุงูุงุช ุงูุฌุฏุงูู ุงููุจูุฑุฉ
- ูุชุณุฑูุน ุงูุนูููุฉ

**ุชุญุฐูุฑ:** โ๏ธ
- ุณูุชู ููุฏุงู ุจูุงูุงุช ุงูุฌุฏุงูู ุงููุจูุฑุฉ
- ุงุณุชุฎุฏูู ููุท ุฅุฐุง ููุช ูุชุฃูุฏุงู ุฃูู ูุง ุชุญุชุงุฌ ูุฐู ุงูุจูุงูุงุช

---

## ๐ ุฃูุซูุฉ ุงุณุชุฎุฏุงู ูุชูุฏูุฉ

### ูุซุงู 1: Fresh Safe ุนุงุฏู
```bash
php artisan db:fresh-safe
```
**ุงูุงุณุชุฎุฏุงู:** ุชุญุฏูุซ Migrations ูุน ุงูุงุญุชูุงุธ ุจูู ุงูุจูุงูุงุช

---

### ูุซุงู 2: ูุน Seeders
```bash
php artisan db:fresh-safe --seed
```
**ุงูุงุณุชุฎุฏุงู:** Fresh Safe + ุฅุถุงูุฉ ุจูุงูุงุช ุฃูููุฉ ุฌุฏูุฏุฉ

---

### ูุซุงู 3: ุงุณุชุซูุงุก ุฌุฏุงูู ูุนููุฉ
```bash
php artisan db:fresh-safe --tables=cache,sessions,logs
```
**ุงูุงุณุชุฎุฏุงู:** Fresh Safe ูุน ุญุฐู ุจูุงูุงุช Cache ู Sessions ู Logs

---

### ูุซุงู 4: ููุจูุงูุงุช ุงููุจูุฑุฉ
```bash
php artisan db:fresh-safe --compress --chunk-size=5000
```
**ุงูุงุณุชุฎุฏุงู:** 
- ุถุบุท ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
- ูุนุงูุฌุฉ 5000 ุตู ูู ูู ุฏูุนุฉ
- ููุงุณุจ ููุฌุฏุงูู ุงููุจูุฑุฉ

---

### ูุซุงู 5: ุชุฎุทู ุงูุฌุฏุงูู ุงููุจูุฑุฉ
```bash
php artisan db:fresh-safe --skip-large --compress
```
**ุงูุงุณุชุฎุฏุงู:**
- ุชุฎุทู ุงูุฌุฏุงูู ุงููุจูุฑุฉ (ุฃูุซุฑ ูู 10,000 ุตู)
- ุถุบุท ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
- ููุงุณุจ ุนูุฏูุง ูุง ุชุญุชุงุฌ ุจูุงูุงุช ุงูุฌุฏุงูู ุงููุจูุฑุฉ

---

### ูุซุงู 6: ูู ุงูุฎูุงุฑุงุช ูุนุงู
```bash
php artisan db:fresh-safe \
  --tables=cache,sessions \
  --seed \
  --compress \
  --chunk-size=3000 \
  --skip-large
```
**ุงูุงุณุชุฎุฏุงู:** 
- ุงุณุชุซูุงุก Cache ู Sessions
- ุชุดุบูู Seeders
- ุถุบุท ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ
- ูุนุงูุฌุฉ 3000 ุตู ูู ูู ุฏูุนุฉ
- ุชุฎุทู ุงูุฌุฏุงูู ุงููุจูุฑุฉ

---

## ๐ ููุงุฑูุฉ ุงูุฃุฏุงุก

### ุจุฏูู ุชุญุณููุงุช:
```bash
php artisan db:fresh-safe
```
- โฑ๏ธ **ุงูููุช:** ~2-5 ุฏูุงุฆู (ุญุณุจ ุญุฌู ุงูุจูุงูุงุช)
- ๐พ **ุงูุฐุงูุฑุฉ:** ~512 MB
- ๐ฆ **ุญุฌู ุงููุณุฎุฉ:** ~50-100 MB

### ูุน ุชุญุณููุงุช:
```bash
php artisan db:fresh-safe --compress --chunk-size=5000
```
- โฑ๏ธ **ุงูููุช:** ~1-3 ุฏูุงุฆู
- ๐พ **ุงูุฐุงูุฑุฉ:** ~256 MB
- ๐ฆ **ุญุฌู ุงููุณุฎุฉ:** ~10-20 MB (ูุถุบูุท)

---

## โ๏ธ ุชุญุฐูุฑุงุช ูููุฉ

### 1. ุงููุณุฎ ุงูุงุญุชูุงุทู
- โ **ูููุตุญ ุจุดุฏุฉ** ุจุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุฏููุฉ ูุจู ุงูุชูููุฐ
- โ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ ุงูุชููุงุฆูุฉ ุชูุญูุธ ูู `storage/app/backups/`
- โ ุงููููุงุช ุงููุคูุชุฉ ุชูุญุฐู ุชููุงุฆูุงู ุจุนุฏ ุงูุงุณุชุนุงุฏุฉ

### 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฅูุชุงุฌูุฉ
- โ๏ธ **ูุง ุชุณุชุฎุฏู** ูุฐุง ุงูุฃูุฑ ุนูู ูุงุนุฏุฉ ุจูุงูุงุช ุงูุฅูุชุงุฌ ูุจุงุดุฑุฉ
- โ๏ธ ุงุฎุชุจุฑ ุงูุฃูุฑ ุฃููุงู ุนูู ุจูุฆุฉ ุงูุชุทููุฑ
- โ๏ธ ุชุฃูุฏ ูู ูุฌูุฏ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุงููุฉ ูุจู ุงูุชูููุฐ

### 3. ุงูุฌุฏุงูู ุงููุจูุฑุฉ
- โ๏ธ ุงูุฌุฏุงูู ุงููุจูุฑุฉ ุฌุฏุงู (ููุงููู ุงูุตููู) ูุฏ ุชุณุชุบุฑู ููุชุงู ุทูููุงู
- โ ุงุณุชุฎุฏู `--compress` ูุชูููู ุงูููุช
- โ ุงุณุชุฎุฏู `--chunk-size` ูุชูููู ุงุณุชููุงู ุงูุฐุงูุฑุฉ

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "mysqldump ุบูุฑ ูุชุงุญ"
**ุงูุญู:** 
- ุงูุฃูุฑ ูุณุชุฎุฏู ุงูุทุฑููุฉ ุงูุจุฏููุฉ ุชููุงุฆูุงู
- ุชุฃูุฏ ูู ุชุซุจูุช MySQL Client Tools

### ุงููุดููุฉ: "Out of Memory"
**ุงูุญู:**
```bash
php artisan db:fresh-safe --chunk-size=500
```

### ุงููุดููุฉ: "ุงูููู ูุจูุฑ ุฌุฏุงู"
**ุงูุญู:**
```bash
php artisan db:fresh-safe --compress
```

### ุงููุดููุฉ: "ุงูุงุณุชุนุงุฏุฉ ุจุทูุฆุฉ"
**ุงูุญู:**
- ุงุณุชุฎุฏู `--skip-large` ููุฌุฏุงูู ุงููุจูุฑุฉ ุบูุฑ ุงููููุฉ
- ุงุณุชุฎุฏู `--compress` ูุชูููู ุญุฌู ุงูููู

---

## ๐ ููุงุญุธุงุช ุฅุถุงููุฉ

### ููุงู ุญูุธ ุงููุณุฎ ุงูุงุญุชูุงุทูุฉ:
```
storage/app/backups/backup_YYYYMMDDHHMMSS.sql
```

### ุชูุณูู ุงููููุงุช:
- **ุบูุฑ ูุถุบูุท:** `.sql`
- **ูุถุบูุท:** `.sql.gz`

### ุชูุธูู ุงููุณุฎ ุงููุฏููุฉ:
```bash
# ุญุฐู ุงููุณุฎ ุงูุฃูุฏู ูู 7 ุฃูุงู
find storage/app/backups -name "backup_*.sql*" -mtime +7 -delete
```

---

## โ ุงูุฎูุงุตุฉ

| ุงูุฃูุฑ | ุงูุงุณุชุฎุฏุงู | ุงูููุช ุงููุชููุน |
|------|----------|---------------|
| `db:fresh-safe` | ุงุณุชุฎุฏุงู ุนุงุฏู | 2-5 ุฏูุงุฆู |
| `db:fresh-safe --compress` | ุจูุงูุงุช ูุจูุฑุฉ | 1-3 ุฏูุงุฆู |
| `db:fresh-safe --seed` | ูุน Seeders | 3-6 ุฏูุงุฆู |
| `db:fresh-safe --skip-large` | ุชุฎุทู ุงูุฌุฏุงูู ุงููุจูุฑุฉ | 30 ุซุงููุฉ - 2 ุฏูููุฉ |

---

## ๐ฏ ุฃูุถู ุงูููุงุฑุณุงุช

1. โ **ุงุฎุชุจุฑ ุฃููุงู** ุนูู ุจูุฆุฉ ุงูุชุทููุฑ
2. โ **ูุณุฎุฉ ุงุญุชูุงุทูุฉ** ูุจู ุงูุชูููุฐ
3. โ **ุงุณุชุฎุฏู `--compress`** ููุจูุงูุงุช ุงููุจูุฑุฉ
4. โ **ุงุณุชุฎุฏู `--chunk-size`** ูุชูููู ุงูุฐุงูุฑุฉ
5. โ **ุฑุงูุจ ุงูุฃุฏุงุก** ุฃุซูุงุก ุงูุชูููุฐ
6. โ **ุชุญูู ูู ุงููุชุงุฆุฌ** ุจุนุฏ ุงูุชูููุฐ

---

**ุชู ุฅูุดุงุก ูุฐุง ุงูุฏููู ุจูุงุณุทุฉ:** Laravel Boost AI Assistant  
**ุงูุชุงุฑูุฎ:** {{ date('Y-m-d') }}  
**ุงูุฅุตุฏุงุฑ:** 1.0.0

