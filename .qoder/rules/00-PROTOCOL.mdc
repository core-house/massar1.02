---
alwaysApply: true
---
**3. المكدس التقني والقيود (TECH STACK CONSTRAINTS)**
*   **إجباري:** Laravel Framework (أحدث إصدار مستقر)
*   **إجباري:** Laravel Livewire للتفاعل (بدلاً من Vue/React)
*   **إجباري:** Bootstrap 5+ للتصميم والتخطيط
*   **إجباري:** Laravel Modules لتنظيم الكود (nwidart/laravel-modules)
*   **مفضل:** Alpine.js للتفاعلات البسيطة مع Livewire
*   **ممنوع:** لا تستخدم Vue.js أو React أو أي frontend framework منفصل
*   **ممنوع:** لا تستخدم CSS frameworks أخرى غير Bootstrap

---
**4. مراحل بروتوكول ترس الشفرة-1**

#### **`//-- المرحلة 1: التأسيس والتحقق (Foundation & Verification) --//`**

**الهدف:** بناء رؤية واضحة، وتجميع الميزات في وحدات Laravel، وتحديد المسارات والمكونات، والحصول على موافقة المستخدم.

1.  **الاستيعاب والبحث:**
    *   **فهم الطلب:** حلل طلب المستخدم بعناية ثم ضع خطة للبحث على الويب.
    *   **البحث (إجباري باللغة الإنجليزية):** ابحث عن:
        *   **بحث الحقائق:** ما هو المفهوم الأساسي، وما هي متطلباته التقنية؟ كيف يُطبق عادة في تطبيقات الويب؟
        *   **بحث Laravel:** ما هي أفضل الممارسات لتنفيذ هذا النوع من التطبيقات في Laravel + Livewire؟
        *   **بحث UI/UX:** ما هي أنماط الواجهة الشائعة والمُثبتة لهذا النوع من التطبيقات باستخدام Bootstrap؟

    *   **موجز البحث:** اكتب موجزاً يوضح:
        - المتطلبات الأساسية للمفهوم
        - كيف ستطبقها باستخدام Laravel/Livewire
        - أنماط الواجهة التي ستستخدمها

2.  **صياغة خارطة الطريق:** قم بإنشاء وعرض `[خارطة طريق المنتج]` للمستخدم باستخدام هيكل Markdown الصارم التالي:

    ```markdown
    # [خارطة طريق المنتج: اسم المشروع]

    ## 1. الرؤية والمكدس التقني
    *   **المشكلة:** [صف المشكلة التي يحلها التطبيق]
    *   **الحل المقترح:** [صف الحل في جملة واحدة]
    *   **المكدس التقني:** Laravel + Livewire + Bootstrap + Laravel Modules
    *   **قاعدة البيانات:** MySQL/PostgreSQL (حسب التفضيل)
    *   **البيئة:** Cursor IDE + Laravel Development Environment

    ## 2. المتطلبات الأساسية (من بحث الحقائق)
    [قائمة بالمتطلبات الأساسية التي بدونها لا يكتمل المفهوم]

    ## 3. هيكل Laravel المقترح
    *   **Modules:** [قائمة بالـ Laravel Modules المطلوبة]
    *   **Models:** [قائمة بالنماذج الرئيسية]
    *   **Livewire Components:** [قائمة بمكونات Livewire المطلوبة]
    *   **Routes:** [المسارات الرئيسية]

    ## 4. الوحدات الوظيفية المرتبة (Prioritized Functional Modules)
    | الأولوية | الوحدة الوظيفية (Module) | المكونات التقنية | الوصف |
    |:---:|:---|:---|:---|
    | 1 | الإعداد الأساسي | Laravel Project + Bootstrap + Auth | إعداد المشروع والمصادقة الأساسية |
    | 2 | [الوحدة الثانية] | [Models + Migrations + Livewire] | [الوصف] |
    | ... | ... | ... | ... |
    ```

3.  **طلب الموافقة (نقطة التوقف الإلزامية):**
    *   **قل:** "**هذه هي خارطة الطريق للمشروع باستخدام Laravel + Livewire + Bootstrap. هل توافق عليها لبدء بناء الوحدة الأولى؟ لن أنشئ أي ملف قبل موافقتك.**"

#### **`//-- المرحلة 2: البناء بالوحدات (Module-based Construction) --//`**

**الهدف:** بناء التطبيق وحدة تلو الأخرى باستخدام أفضل ممارسات Laravel.

**(ابدأ الحلقة. خذ الوحدة الأولى من قائمة الوحدات المرتبة)**

**`//-- دورة عمل الوحدة: [اسم الوحدة الحالية] --//`**

1.  **فكّر (Think):**
    *   "سأقوم الآن ببناء وحدة: **'[اسم الوحدة الحالية]'**. لتنفيذ ذلك، سأقوم بالإجراءات التالية:
        - إنشاء/تعديل Models: [قائمة]
        - إنشاء/تعديل Migrations: [قائمة]
        - إنشاء/تعديل Livewire Components: [قائمة]
        - إنشاء/تعديل Blade Templates: [قائمة]
        - تحديث Routes: [التفاصيل]"

2.  **نفّذ (Act):**
    *   "إليك الملفات والكود اللازم لتنفيذ هذه الوحدة:"
    *   **قم بإنشاء كل ملف مطلوب بوضوح، مع التأكد من:**
        - اتباع naming conventions الخاصة بـ Laravel
        - استخدام Livewire بالطريقة الصحيحة
        - تطبيق Bootstrap classes بشكل مناسب
        - إضافة التعليقات اللازمة في الكود

3.  **تحقق (Verify):**
    *   "لقد قمت بتنفيذ وحدة **'[اسم الوحدة الحالية]'** وهي تشمل:
        - [قائمة بالملفات المنشأة/المحدثة]
        - [ملاحظات مهمة للتشغيل]
        
        **الخطوات المطلوبة منك:**
        1. تشغيل `php artisan migrate` إذا كانت هناك migrations جديدة
        2. تشغيل `npm run dev` لتحديث الأصول
        3. التحقق من عمل الوحدة
        
        هل أنت جاهز للانتقال إلى الوحدة التالية: **`[اسم الوحدة التالية]`**؟"

**(إذا وافق المستخدم، عد إلى بداية دورة العمل للوحدة التالية. استمر حتى اكتمال جميع الوحدات في خارطة الطريق.)**

---

## **مبادئ إضافية خاصة بـ Laravel:**

### **أ. هيكلة الكود (Code Organization):**
*   استخدم Laravel Modules لتجميع الوظائف المترابطة
*   اتبع PSR-4 autoloading standards
*   ضع الـ business logic في Service Classes
*   استخدم Form Requests للتحقق من صحة البيانات

### **ب. Livewire Best Practices:**
*   قم بتجميع الوظائف المترابطة في component واحد
*   استخدم `wire:model.defer` للحقول غير الحرجة
*   طبق `#[Rule]` attributes للتحقق من صحة البيانات
*   استخدم Livewire Events للتواصل بين المكونات

### **ج. Bootstrap Integration:**
*   استخدم Bootstrap utilities بدلاً من CSS مخصص حين أمكن
*   طبق responsive design بـ Bootstrap grid system
*   استخدم Bootstrap components (modals, alerts, etc.) مع Livewire بشكل صحيح
*   اتبع Bootstrap color scheme والـ design system

### **د. Database Design:**
*   استخدم Laravel migrations لكل تغيير في قاعدة البيانات
*   طبق foreign key constraints
*   استخدم Laravel Eloquent relationships بالطريقة الصحيحة
*   اتبع naming conventions لـ tables والـ columns