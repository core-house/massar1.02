# ğŸ“‹ Ø¯Ù„ÙŠÙ„ Activity Log - Ù…Ø§ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„Ù‡

## ğŸ¯ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø­Ø±Ø¬Ø© Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ ØªØªØ¨Ø¹Ù‡Ø§ ÙÙŠ Ù†Ø¸Ø§Ù… ERP

### 1. **Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©** ğŸ’°
- âœ… **Ø§Ù„ÙÙˆØ§ØªÙŠØ±** (Ø¥Ù†Ø´Ø§Ø¡/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù/Ø·Ø¨Ø§Ø¹Ø©)
- âœ… **Ø§Ù„Ø³Ù†Ø¯Ø§Øª** (Ø¥ÙŠØµØ§Ù„Ø§Øª/Ù…Ø¯ÙÙˆØ¹Ø§Øª)
- âœ… **Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©**
- âœ… **Ø§Ù„Ø¯ÙØ§ØªØ± Ø§Ù„ÙŠÙˆÙ…ÙŠØ©**
- âœ… **Ø§Ù„Ø´ÙŠÙƒØ§Øª** (Ø¥Ù†Ø´Ø§Ø¡/ØªØ­ØµÙŠÙ„/Ø¥Ø±Ø¬Ø§Ø¹)
- âœ… **Ø®Ø·Ø· Ø§Ù„ØªÙ‚Ø³ÙŠØ· ÙˆØ§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª**

### 2. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙˆØ§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª** ğŸ‘¥
- âœ… **Ø¥Ù†Ø´Ø§Ø¡/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†**
- âœ… **ØªØºÙŠÙŠØ± Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Ø±**
- âœ… **ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ±**
- âœ… **Ø±Ø¨Ø· Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¨Ø§Ù„ÙØ±ÙˆØ¹**

### 3. **Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ†** ğŸ“¦
- âœ… **Ø§Ù„Ø£ØµÙ†Ø§Ù** (Ø¥Ù†Ø´Ø§Ø¡/ØªØ¹Ø¯ÙŠÙ„/Ø­Ø°Ù/ØªØºÙŠÙŠØ± Ø§Ù„Ø£Ø³Ø¹Ø§Ø±)
- âœ… **Ø­Ø±ÙƒØ§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†** (Ø¯Ø®ÙˆÙ„/Ø®Ø±ÙˆØ¬/ØªØ­ÙˆÙŠÙ„)
- âœ… **ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ†**
- âœ… **ØªØªØ¨Ø¹ Ø§Ù„Ø¯ÙØ¹Ø§Øª**

### 4. **Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª Ø§Ù„ØªØ¬Ø§Ø±ÙŠØ©** ğŸ¢
- âœ… **Ø§Ù„Ø§Ø³ØªÙØ³Ø§Ø±Ø§Øª/Ø§Ù„Ø¹Ø±ÙˆØ¶**
- âœ… **Ø§Ù„Ø·Ù„Ø¨Ø§Øª**
- âœ… **Ø¥Ø±Ø¬Ø§Ø¹ Ø§Ù„Ø·Ù„Ø¨Ø§Øª**
- âœ… **Ø§Ù„Ø´Ø­Ù†Ø§Øª**

### 5. **Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ Ø§Ù„Ø¨Ø´Ø±ÙŠØ©** ğŸ‘¨â€ğŸ’¼
- âœ… **Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ†** (Ø¥Ù†Ø´Ø§Ø¡/ØªØ¹Ø¯ÙŠÙ„/Ø¥Ù†Ù‡Ø§Ø¡ Ø®Ø¯Ù…Ø©)
- âœ… **Ø§Ù„Ø¹Ù‚ÙˆØ¯**
- âœ… **Ø·Ù„Ø¨Ø§Øª Ø§Ù„Ø¥Ø¬Ø§Ø²Ø§Øª**
- âœ… **Ø§Ù„Ø­Ø¶ÙˆØ± ÙˆØ§Ù„Ø§Ù†ØµØ±Ø§Ù**
- âœ… **Ø§Ù„Ù…Ø±ØªØ¨Ø§Øª**

### 6. **Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù…Ù‡Ù…Ø©** âš™ï¸
- âœ… **ØªØºÙŠÙŠØ± Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…**
- âœ… **ØªØºÙŠÙŠØ± Ø§Ù„ÙØ±ÙˆØ¹**
- âœ… **ØªØºÙŠÙŠØ± Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª**

---

## ğŸ”§ ÙƒÙŠÙÙŠØ© Ø¥Ø¶Ø§ÙØ© Ø§Ù„ØªØªØ¨Ø¹ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 1: Ø§Ø³ØªØ®Ø¯Ø§Ù… Trait `LogsActivity`

```php
use Spatie\Activitylog\Traits\LogsActivity;

class User extends Model
{
    use LogsActivity;
    
    // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ ØªØªØ¨Ø¹Ù‡Ø§
    protected static $logAttributes = ['name', 'email', 'is_active'];
    
    // ØªØ³Ø¬ÙŠÙ„ ÙÙ‚Ø· Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªÙŠ ØªØºÙŠØ±Øª
    protected static $logOnlyDirty = true;
    
    // ØªØ³Ù…ÙŠØ© Ø§Ù„Ù†Ø´Ø§Ø·
    protected static $logName = 'user';
}
```

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 2: ØªØ³Ø¬ÙŠÙ„ Ù†Ø´Ø§Ø· ÙŠØ¯ÙˆÙŠ

```php
use Spatie\Activitylog\Facades\Activity;

activity()
    ->causedBy(auth()->user())
    ->performedOn($model)
    ->withProperties(['custom' => 'property'])
    ->log('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ÙØ§ØªÙˆØ±Ø© Ø¬Ø¯ÙŠØ¯Ø©');
```

### Ø§Ù„Ø·Ø±ÙŠÙ‚Ø© 3: ÙÙŠ Controller

```php
public function store(Request $request)
{
    $item = Item::create($request->validated());
    
    activity()
        ->causedBy(auth()->user())
        ->performedOn($item)
        ->withProperties(['data' => $request->all()])
        ->log('ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ ØµÙ†Ù Ø¬Ø¯ÙŠØ¯');
    
    return redirect()->route('items.index');
}
```

---

## ğŸ“ Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: ØªØªØ¨Ø¹ User Model

```php
// app/Models/User.php
use Spatie\Activitylog\Traits\LogsActivity;

class User extends Authenticatable
{
    use LogsActivity;
    
    protected static $logAttributes = ['name', 'email', 'is_active'];
    protected static $logOnlyDirty = true;
    protected static $logName = 'user';
}
```

### Ù…Ø«Ø§Ù„ 2: ØªØªØ¨Ø¹ Item Model

```php
// app/Models/Item.php
use Spatie\Activitylog\Traits\LogsActivity;

class Item extends Model
{
    use LogsActivity;
    
    protected static $logAttributes = ['name', 'code', 'cost', 'price'];
    protected static $logOnlyDirty = true;
    protected static $logName = 'item';
}
```

### Ù…Ø«Ø§Ù„ 3: ØªØªØ¨Ø¹ Permission Changes

```php
// Modules/Authorization/Models/Permission.php
use Spatie\Activitylog\Traits\LogsActivity;

class Permission extends SpatiePermission
{
    use LogsActivity;
    
    protected static $logAttributes = ['name', 'category'];
    protected static $logOnlyDirty = true;
    protected static $logName = 'permission';
}
```

---

## âš ï¸ Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ù…Ù‡Ù…Ø©

1. **Ù„Ø§ ØªØ³Ø¬Ù„ ÙƒÙ„ Ø´ÙŠØ¡**: Ø±ÙƒØ² Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø­Ø±Ø¬Ø© ÙÙ‚Ø·
2. **ØªØ¬Ù†Ø¨ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ø­Ø³Ø§Ø³Ø©**: Ù„Ø§ ØªØ³Ø¬Ù„ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± Ø£Ùˆ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ© Ø§Ù„Ø­Ø³Ø§Ø³Ø©
3. **Ø§Ø³ØªØ®Ø¯Ù… `logOnlyDirty`**: Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙ‚Ø· Ø§Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„ÙØ¹Ù„ÙŠØ©
4. **Ø­Ø¯Ø¯ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„Ù…Ù‡Ù…Ø©**: Ù„Ø§ ØªØ³Ø¬Ù„ ÙƒÙ„ Ø§Ù„Ø­Ù‚ÙˆÙ„ØŒ ÙÙ‚Ø· Ø§Ù„Ù…Ù‡Ù…Ø©

---

## ğŸš€ Ø§Ù„Ø®Ø·ÙˆØ§Øª Ø§Ù„ØªØ§Ù„ÙŠØ©

1. Ø£Ø¶Ù `LogsActivity` trait Ù„Ù„Ù€ Models Ø§Ù„Ù…Ù‡Ù…Ø©
2. Ø­Ø¯Ø¯ Ø§Ù„Ø­Ù‚ÙˆÙ„ Ø§Ù„ØªÙŠ ÙŠØ¬Ø¨ ØªØªØ¨Ø¹Ù‡Ø§
3. Ø§Ø®ØªØ¨Ø± Ø§Ù„Ù†Ø¸Ø§Ù… ÙˆØ±Ø§Ø¬Ø¹ Activity Log
4. Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù€ Models Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©

